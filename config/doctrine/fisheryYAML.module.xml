<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<orm-designer version="1.3.1.332">

  <module import-format="DoctrineYml" import-path="fisheryYAML.yml" name="ht" visBkColor="16380923" visSizeX="59" visSizeX2="853" visSizeY="0" visSizeY2="663">
    <table name="Location" visPositionX="299" visPositionY="222" visSizeX="0" visSizeX2="154" visSizeY="0" visSizeY2="115">
      <column auto-increment="true" name="id" primary="true" size="4" type="integer"/>
      <column default="''" name="name" required="true" size="50" type="string"/>
      <column default="''" name="description" required="true" type="string"/>
      <column name="depth" type="float"/>
      <column description="Foreign key to Location_flow" name="location_flow_id" size="4" type="integer"/>
      <column description="Foreign key to Location_fundus" name="location_fundus_id" size="4" type="integer"/>
      <column description="Foreign key to Location_relief" name="location_relief_id" size="4" type="integer"/>
      <orm-properties>
        <attribute name="tableName">location</attribute>
        <attribute name="actAs">
          <attribute name="Blameable">
            <attribute name="listener">BlameableFishery</attribute>
          </attribute>
          <attribute name="Geographical"/>
          <attribute name="Sluggable"/>
          <attribute name="Timestampable"/>
          <attribute name="Versionable"/>
        </attribute>
      </orm-properties>
    </table>
    <table name="Profile" visPositionX="-45" visPositionY="97" visSizeX="0" visSizeX2="121" visSizeY="0" visSizeY2="87">
      <column auto-increment="true" name="id" primary="true" required="true" type="integer"/>
      <column default="''" name="nick_name" required="true" size="50" type="string"/>
      <column default="''" name="first_name" size="50" type="string"/>
      <column default="''" name="last_name" size="50" type="string"/>
      <column default="''" name="description" required="true" type="string"/>
      <orm-properties>
        <attribute name="tableName">profile</attribute>
        <attribute name="actAs">
          <attribute name="Timestampable"/>
        </attribute>
      </orm-properties>
    </table>
    <table name="Fish" visPositionX="565" visPositionY="23" visSizeX="0" visSizeX2="104" visSizeY="0" visSizeY2="45">
      <column auto-increment="true" name="id" primary="true" required="true" type="integer"/>
      <column name="name" required="true" size="100" type="string" unique="true"/>
    </table>
    <table name="Profit" visPositionX="129" visPositionY="105" visSizeX="0" visSizeX2="120" visSizeY="0" visSizeY2="157">
      <column auto-increment="true" name="id" primary="true" required="true" type="integer"/>
      <column name="location_id" size="4" type="integer"/>
      <column name="begin" required="true" type="timestamp"/>
      <column name="water_state" type="string"/>
      <column name="lure" type="string"/>
      <column name="bait" type="string"/>
      <column name="additive" type="string"/>
      <column name="weather" type="string"/>
      <column name="cordage" type="string"/>
      <column name="description" required="true" type="string"/>
      <orm-properties>
        <attribute name="actAs">
          <attribute name="Timestampable"/>
          <attribute name="Blameable">
            <attribute name="listener">BlameableFishery</attribute>
          </attribute>
        </attribute>
      </orm-properties>
    </table>
    <table name="Style" visPositionX="567" visPositionY="77" visSizeX="0" visSizeX2="104" visSizeY="0" visSizeY2="45">
      <column auto-increment="true" name="id" primary="true" required="true" type="integer"/>
      <column name="name" required="true" size="100" type="string" unique="true"/>
    </table>
    <table name="Friend" visPositionX="-22" visPositionY="8" visSizeX="0" visSizeX2="136" visSizeY="0" visSizeY2="59">
      <column name="id" primary="true" required="true" type="integer" unique="true"/>
      <column name="source_profile_id" required="true" type="integer"/>
      <column name="related_profile_id" required="true" type="integer"/>
    </table>
    <table name="ProfitDetail" visPositionX="354" visPositionY="23" visSizeX="0" visSizeX2="99" visSizeY="0" visSizeY2="87">
      <column name="time" required="true" type="timestamp"/>
      <column name="profit_id" type="integer"/>
      <column name="style_id" type="integer"/>
      <column name="fish_id" type="integer"/>
      <column name="qty" required="true" type="float"/>
      <index name="unique_fish_style_per_profit" unique="true">
        <index-column name="profit_id"/>
        <index-column name="style_id"/>
        <index-column name="fish_id"/>
      </index>
    </table>
    <table name="LocationRelief" visPositionX="326" visPositionY="432" visSizeX="0" visSizeX2="99" visSizeY="0" visSizeY2="45">
      <column auto-increment="true" name="id" primary="true" size="4" type="integer"/>
      <column name="name" required="true" size="50" type="string"/>
    </table>
    <table name="LocationFlow" visPositionX="259" visPositionY="371" visSizeX="0" visSizeX2="99" visSizeY="0" visSizeY2="45">
      <column auto-increment="true" name="id" primary="true" size="4" type="integer"/>
      <column name="name" required="true" size="50" type="string"/>
    </table>
    <table name="LocationFundus" visPositionX="403" visPositionY="374" visSizeX="0" visSizeX2="99" visSizeY="0" visSizeY2="45">
      <column auto-increment="true" name="id" primary="true" size="4" type="integer"/>
      <column name="name" required="true" size="50" type="string"/>
    </table>
    <table name="Comment" visPositionX="-41" visPositionY="224" visSizeX="0" visSizeX2="124" visSizeY="0" visSizeY2="45">
      <column auto-increment="true" name="id" primary="true" size="4" type="integer"/>
      <column name="parent" size="4" type="integer"/>
      <column name="message" required="true" size="1000" type="string"/>
      <orm-properties>
        <attribute name="actAs">
          <attribute name="Blameable">
            <attribute name="listener">BlameableFishery</attribute>
          </attribute>
          <attribute name="Timestampable"/>
          <attribute name="NestedSet">
            <attribute name="hasManyRoots">true</attribute>
          </attribute>
        </attribute>
      </orm-properties>
    </table>
    <table name="CommentLocation" visPositionX="156" visPositionY="431" visSizeX="0" visSizeX2="120" visSizeY="0" visSizeY2="31">
      <column name="location_id" size="4" type="integer"/>
      <orm-properties>
        <attribute name="inheritance">
          <attribute name="extends">Comment</attribute>
          <attribute name="type">column_aggregation</attribute>
          <attribute name="keyField">toward</attribute>
          <attribute name="keyValue">location</attribute>
        </attribute>
      </orm-properties>
    </table>
    <table name="CommentProfit" visPositionX="66" visPositionY="369" visSizeX="0" visSizeX2="99" visSizeY="0" visSizeY2="31">
      <column name="profit_id" type="integer"/>
      <orm-properties>
        <attribute name="inheritance">
          <attribute name="extends">Comment</attribute>
          <attribute name="keyField">toward</attribute>
          <attribute name="keyValue">profit</attribute>
          <attribute name="type">column_aggregation</attribute>
        </attribute>
      </orm-properties>
    </table>
    <orm-properties>
      <attribute name="options">
        <attribute name="type">INNODB</attribute>
        <attribute name="charset">utf8</attribute>
        <attribute name="collate">utf8_general_ci</attribute>
      </attribute>
    </orm-properties>
    <foreign-key from="Location" name="FK_Location_Location_flow" to="LocationFlow" visCenterX="4" visCenterY="0">
      <foreign-key-column from="location_flow_id" to="id"/>
    </foreign-key>
    <foreign-key from="Location" name="FK_Location_Location_fundus" to="LocationFundus" visCenterX="0" visCenterY="0">
      <foreign-key-column from="location_fundus_id" to="id"/>
    </foreign-key>
    <foreign-key from="Location" name="FK_Location_Location_relief" to="LocationRelief" visCenterX="0" visCenterY="11">
      <foreign-key-column from="location_relief_id" to="id"/>
    </foreign-key>
    <foreign-key from="Profit" name="FK_Profit_Location_id" to="Location" visCenterX="0" visCenterY="-1">
      <foreign-key-column from="location_id" to="id"/>
    </foreign-key>
    <foreign-key from="Friend" name="FK_Friend_Profile_id" to="Profile">
      <foreign-key-column from="source_profile_id" to="id"/>
    </foreign-key>
    <foreign-key caption="Profit ProfitDetail" from="ProfitDetail" name="FK_ProfitDetail_Profit_id" to="Profit">
      <foreign-key-column from="profit_id" to="id"/>
    </foreign-key>
    <foreign-key caption="Style ProfitDetail" from="ProfitDetail" name="FK_ProfitDetail_Style_id" to="Style">
      <foreign-key-column from="style_id" to="id"/>
    </foreign-key>
    <foreign-key caption="Fish ProfitDetail" from="ProfitDetail" name="FK_ProfitDetail_Fish_id" to="Fish">
      <foreign-key-column from="fish_id" to="id"/>
    </foreign-key>
    <foreign-key caption="Location CommentLocation" from="CommentLocation" name="FK_CommentLocation_Location_id" to="Location">
      <foreign-key-column from="location_id" to="id"/>
    </foreign-key>
    <foreign-key caption="Profit CommentProfit" from="CommentProfit" name="FK_CommentProfit_Profit_id" to="Profit" visCaption1X="0" visCaption1Y="0" visCenterX="0" visCenterY="0">
      <foreign-key-column from="profit_id" to="id"/>
    </foreign-key>
  </module>

</orm-designer>
